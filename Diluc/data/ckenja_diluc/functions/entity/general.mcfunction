execute if score @s ckenja_diluc matches 1 run data merge entity @s {Pose:{RightArm:[355f,0f,0f]},Rotation:[0.0f,90.0f]}
execute if score @s ckenja_diluc matches 2 run data merge entity @s {Pose:{RightArm:[350f,0f,5f]}}
execute if score @s ckenja_diluc matches 3 run data merge entity @s {Pose:{RightArm:[345f,0f,10f]}}
execute if score @s ckenja_diluc matches 4 run data merge entity @s {Pose:{RightArm:[340f,0f,15f]}}
execute if score @s ckenja_diluc matches 5 run data merge entity @s {Pose:{RightArm:[335f,0f,20f]}}
execute if score @s ckenja_diluc matches 6 run data merge entity @s {Pose:{RightArm:[330f,0f,25f]}}
execute if score @s ckenja_diluc matches 7 run data merge entity @s {Pose:{RightArm:[325f,0f,30f]}}
execute if score @s ckenja_diluc matches 8 run data merge entity @s {Pose:{RightArm:[320f,0f,35f]}}
execute if score @s ckenja_diluc matches 9 run data merge entity @s {Pose:{RightArm:[315f,0f,40f]}}
execute if score @s ckenja_diluc matches 10 run data merge entity @s {Pose:{RightArm:[310f,0f,45f]}}
execute if score @s ckenja_diluc matches 11 run data merge entity @s {Pose:{RightArm:[305f,0f,50f]}}
execute if score @s ckenja_diluc matches 12 run data merge entity @s {Pose:{RightArm:[300f,0f,55f]}}
execute if score @s ckenja_diluc matches 13 run data merge entity @s {Pose:{RightArm:[295f,0f,60f]}}
execute if score @s ckenja_diluc matches 14 run data merge entity @s {Pose:{RightArm:[290f,0f,65f]}}
execute if score @s ckenja_diluc matches 15 run data merge entity @s {Pose:{RightArm:[285f,0f,70f]}}
execute if score @s ckenja_diluc matches 16 run data merge entity @s {Pose:{RightArm:[280f,0f,75f]}}
execute if score @s ckenja_diluc matches 17 run data merge entity @s {Pose:{RightArm:[275f,0f,80f]}}
execute if score @s ckenja_diluc matches 18 run data merge entity @s {Pose:{RightArm:[270f,0f,85f]}}
execute if score @s ckenja_diluc matches 19 run data merge entity @s {Pose:{RightArm:[270f,0f,90f]}}
execute if score @s ckenja_diluc matches 20 run data merge entity @s {Pose:{RightArm:[270f,0f,90f]}}
#execute if score @s ckenja_diluc matches 20 run scoreboard players set @s ckenja_diluc -1

execute if score @s ckenja_diluc matches 64 run data merge entity @s {Pose:{RightArm:[270f,0f,90f]}}
execute if score @s ckenja_diluc matches 65 run data merge entity @s {Pose:{RightArm:[275f,0f,90f]}}
execute if score @s ckenja_diluc matches 66 run data merge entity @s {Pose:{RightArm:[280f,0f,90f]}}
execute if score @s ckenja_diluc matches 67 run data merge entity @s {Pose:{RightArm:[285f,0f,90f]}}
execute if score @s ckenja_diluc matches 68 run data merge entity @s {Pose:{RightArm:[290f,0f,90f]}}
execute if score @s ckenja_diluc matches 69 run data merge entity @s {Pose:{RightArm:[295f,0f,90f]}}
execute if score @s ckenja_diluc matches 70 run data merge entity @s {Pose:{RightArm:[300f,0f,90f]}}
execute if score @s ckenja_diluc matches 71 run data merge entity @s {Pose:{RightArm:[305f,0f,90f]}}
execute if score @s ckenja_diluc matches 72 run data merge entity @s {Pose:{RightArm:[310f,0f,90f]}}
execute if score @s ckenja_diluc matches 73 run data merge entity @s {Pose:{RightArm:[315f,0f,90f]}}
execute if score @s ckenja_diluc matches 74 run data merge entity @s {Pose:{RightArm:[320f,0f,90f]}}
execute if score @s ckenja_diluc matches 75 run data merge entity @s {Pose:{RightArm:[325f,0f,90f]}}
execute if score @s ckenja_diluc matches 76 run data merge entity @s {Pose:{RightArm:[330f,0f,90f]}}
execute if score @s ckenja_diluc matches 77 run data merge entity @s {Pose:{RightArm:[335f,0f,90f]}}
execute if score @s ckenja_diluc matches 78 run data merge entity @s {Pose:{RightArm:[340f,0f,90f]}}
execute if score @s ckenja_diluc matches 79 run data merge entity @s {Pose:{RightArm:[345f,0f,90f]}}
execute if score @s ckenja_diluc matches 80 run data merge entity @s {Pose:{RightArm:[350f,0f,90f]}}
execute if score @s ckenja_diluc matches 81 run data merge entity @s {Pose:{RightArm:[355f,0f,90f]}}
execute if score @s ckenja_diluc matches 82 run data merge entity @s {Pose:{RightArm:[360f,0f,90f]}}
execute if score @s ckenja_diluc matches 83 run data merge entity @s {Pose:{RightArm:[5f,0f,90f]}}
execute if score @s ckenja_diluc matches 84 run data merge entity @s {Pose:{RightArm:[10f,0f,90f]}}
execute if score @s ckenja_diluc matches 85 run data merge entity @s {Pose:{RightArm:[15f,0f,90f]}}
execute if score @s ckenja_diluc matches 86 run data merge entity @s {Pose:{RightArm:[20f,0f,90f]}}
execute if score @s ckenja_diluc matches 87 run data merge entity @s {Pose:{RightArm:[25f,0f,90f]}}
execute if score @s ckenja_diluc matches 88 run data merge entity @s {Pose:{RightArm:[30f,0f,90f]}}
execute if score @s ckenja_diluc matches 89 run data merge entity @s {Pose:{RightArm:[35f,0f,90f]}}
execute if score @s ckenja_diluc matches 90 run data merge entity @s {Pose:{RightArm:[40f,0f,90f]}}
execute if score @s ckenja_diluc matches 91 run data merge entity @s {Pose:{RightArm:[45f,0f,90f]}}

#タイマーを進める
scoreboard players add @s ckenja_diluc 1

#しばらく回り続ける
execute if score @s ckenja_diluc matches 40..64 run function ckenja_diluc:entity/rotation 

#斬るときも回る
execute if score @s ckenja_diluc matches 82 run data merge entity @s {Rotation:[0.0f,0.0f]}
execute if score @s ckenja_diluc matches 83..91 run function ckenja_diluc:entity/rotation5

#ファントム出てくる
execute if score @s ckenja_diluc matches 70 at @s run summon phantom ~ ~0.25 ~3 {NoAI:1b,Size:16,Tags:["ckenja_diluc_phantom"]}
execute as @e[tag=ckenja_diluc_phantom] at @s run teleport ~ ~ ~0.5
execute at @e[tag=ckenja_diluc_phantom] run particle soul ~ ~ ~-2 0.5 0.5 0.5 1 64 normal
execute if score @s ckenja_diluc matches 65..100 run kill @e[type=husk]
execute if score @s ckenja_diluc matches 65..100 run kill @e[type=skeleton]

#前に進む
execute if score @s ckenja_diluc matches 40..91 run teleport @s ~ ~ ~0.2

#プレイヤーの視線操作
execute at @p if score @s ckenja_diluc matches 0..100 run tp @p ~ ~ ~ facing entity @e[tag=ckenja_diluc_diluc,limit=1]

#パーティクルが飛ぶ。
execute if score @s ckenja_diluc matches 21..63 run particle soul_fire_flame ~ ~ ~ 1 1 1 1 16 normal
#剣を燃やす
execute store result score #tmp ckj02_data run data get entity @s Pose.RightArm[0] 1
execute store result score #tmp2 ckj02_data run data get entity @s Rotation[0] 1
scoreboard players add #tmp ckj02_data 45
execute if score #tmp ckj02_data matches ..0 run scoreboard players add #tmp ckj02_data 360
execute if score #tmp ckj02_data matches 360.. run scoreboard players remove #tmp ckj02_data 360

scoreboard players operation #tmp ckj02_data -= #tmp2 ckj02_data
scoreboard players remove #tmp ckj02_data 45
execute store result entity @e[tag=ckenja_diluc_rotated,limit=1] Rotation[0] float 1 run scoreboard players get #tmp ckj02_data
execute if score @s ckenja_diluc matches 50..100 anchored eyes rotated as @e[tag=ckenja_diluc_rotated,limit=1] run particle soul_fire_flame ^-1 ^-0.2 ^ 0.1 0.1 0.1 0 32 normal
execute if score @s ckenja_diluc matches 50..100 anchored eyes rotated as @e[tag=ckenja_diluc_rotated,limit=1] run particle soul_fire_flame ^-1.5 ^-0.3 ^ 0.1 0.1 0.1 0 32 normal
execute if score @s ckenja_diluc matches 50..100 anchored eyes rotated as @e[tag=ckenja_diluc_rotated,limit=1] run particle soul_fire_flame ^-2 ^-0.4 ^ 0.1 0.1 0.1 0 32 normal
execute if score @s ckenja_diluc matches 50..100 anchored eyes rotated as @e[tag=ckenja_diluc_rotated,limit=1] run particle soul_fire_flame ^-2.5 ^-0.5 ^ 0.1 0.1 0.1 0 32 normal
execute if score @s ckenja_diluc matches 50..100 anchored eyes rotated as @e[tag=ckenja_diluc_rotated,limit=1] run particle soul_fire_flame ^-3 ^-0.6 ^ 0.1 0.1 0.1 0 32 normal
execute if score @s ckenja_diluc matches 50..100 anchored eyes rotated as @e[tag=ckenja_diluc_rotated,limit=1] run particle soul_fire_flame ^-3.5 ^-0.7 ^ 0.1 0.1 0.1 0 32 normal
#particle dust 0.000 1.000 1.000